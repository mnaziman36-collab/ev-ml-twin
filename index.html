<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EV ML Prediction — Demo</title>
  <style>
    body { font-family: Inter, Arial, sans-serif; max-width:820px; margin:28px auto; padding:18px; line-height:1.45; }
    h1 { margin-bottom: 8px; }
    .row { display:flex; gap:12px; align-items:center; margin-bottom:10px; }
    .col { display:flex; flex-direction:column; gap:6px; }
    label { font-size:0.95rem; color:#222; }
    input[type="number"], select { padding:8px 10px; font-size:0.95rem; width:220px; }
    input[type="range"] { width:220px; }
    button { padding:10px 14px; font-size:1rem; cursor:pointer; }
    #result { margin-top:16px; padding:14px; border-radius:8px; background:#f6f8fa; }
    pre { background:#111; color:#bcd; padding:10px; border-radius:6px; overflow:auto; max-height:240px; }
    .small { font-size:0.85rem; color:#555; }
  </style>
</head>
<body>
  <h1>EV Prediction Demo</h1>
  <p class="small">This page sends your inputs to your ML endpoint and displays the predicted range. If the request fails, see the note about IoT vs API Gateway below.</p>

  <div class="row">
    <div class="col">
      <label for="carSelect">Select Car</label>
      <select id="carSelect">
        <option>Tesla Model 3</option>
        <option>BYD ATTO 3</option>
        <option>Custom</option>
      </select>
    </div>

    <div class="col">
      <label for="batteryRange">Battery level (%) <span id="batteryValue">100</span></label>
      <input id="batteryRange" type="range" min="0" max="100" value="100" />
    </div>
  </div>

  <div class="row">
    <div class="col">
      <label for="battery_kwh">Battery_kWh</label>
      <input id="battery_kwh" type="number" placeholder="Battery kWh (e.g. 75)" />
    </div>
    <div class="col">
      <label for="efficiency">Efficiency_km_kWh</label>
      <input id="efficiency" type="number" step="0.01" placeholder="km per kWh (e.g. 6.67)" />
    </div>
  </div>

  <div class="row">
    <div class="col">
      <label for="fast_charge">Fast_charge_kW</label>
      <input id="fast_charge" type="number" placeholder="charging speed (kW)" />
    </div>
    <div class="col">
      <label for="top_speed">Top_speed_kmh</label>
      <input id="top_speed" type="number" placeholder="max speed (km/h)" />
    </div>
  </div>

  <div class="row">
    <div class="col">
      <label for="acceleration">Acceleration_s (0–100 km/h)</label>
      <input id="acceleration" type="number" step="0.1" placeholder="seconds (e.g. 5.3)" />
    </div>

    <div style="align-self:flex-end">
      <button id="predictBtn">Get Prediction</button>
    </div>
  </div>

  <div id="result">
    <strong>Prediction result</strong>
    <div id="predictionText" style="margin-top:10px">No request yet.</div>
    <details style="margin-top:10px">
      <summary>Raw response / debug</summary>
      <pre id="rawResponse">-</pre>
    </details>
  </div>

  <p class="small" style="margin-top:12px">
    Note: If your endpoint is an AWS IoT Core endpoint (it looks like <code>*.iot.ap-southeast-1.amazonaws.com</code>), you may need a different approach (API Gateway proxy or AWS IoT SDK + SigV4/Cognito). See instructions below the code.
  </p>

  <script src="app.js"></script>
</body>
</html>
